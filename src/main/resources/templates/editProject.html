<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Add Project</title>
</head>
<body>
<header>
    <div class="logo">ALPHA SOLUTIONS</div>
    <div class="user-info" th:if="${session.employee != null}">
        <span th:text="${session.employee.firstname + ' ' + session.employee.lastname}"></span>
        <span th:text="'(' + ${session.role} + ')'"></span>
        <form th:action="@{/logout}" method="post">
            <button type="submit" class="btn btn-danger">Logout</button>
        </form>
        <a href="/dashboard" class="btn btn-danger" style="margin-left: 10px;">Back</a>
    </div>
</header>

<main>
    <h1>Edit Project</h1>
    <form th:action="@{/dashboard/{projectId}/editProject(projectId=${project.projectId})}" th:object="${project}" method="post">
        <input type="hidden" th:field="*{projectId}" />
        <input type="hidden" name="oldManagerId" th:value="${oldManagerId}" />
        <ul>
            <li>
                <label for="projectManagerId">Project Manager</label>
                <select id="projectManagerId" th:field="*{managerId}">
                    <option value="" disabled>Select a manager</option>
                    <option th:each="manager : ${managers}"
                            th:value="${manager.employeeId}"
                            th:text="${manager.firstname + ' ' + manager.lastname}">
                    </option>
                </select>
            </li>
            <li>
                <label for="projectName">Name:</label>
                <input type="text" id="projectName" th:field="*{projectName}" />
            </li>
            <li>
                <label for="projectDescription">Description:</label>
                <input type="text" id="projectDescription" th:field="*{projectDescription}" />
            </li>
            <li>
                <label for="projectStartDate">Start Date:</label>
                <input type="date" id="projectStartDate" name="projectStartDate"
                       th:value="${project.projectStartDate}" />
            </li>
            <li>
                <label for="projectEndDate">End Date:</label>
                <input type="date" id="projectEndDate" name="projectEndDate"
                       th:value="${project.projectEndDate}" />
            </li>
            <li>
                <label for="projectEstimatedHours">Estimated Hours:</label>
                <input type="number" id="projectEstimatedHours" th:field="*{projectEstimatedHours}" />
            </li>
            <li>
                <label for="projectStatus">Status:</label>
                <select id="projectStatus" th:field="*{projectStatus}">
                    <option th:each="status : ${statuses}"
                            th:value="${status}"
                            th:text="${status}"></option>
                </select>
            </li>
            <li>
                <button type="submit">Save Changes</button>
            </li>
        </ul>
    </form>

</main>
</body>
</html>